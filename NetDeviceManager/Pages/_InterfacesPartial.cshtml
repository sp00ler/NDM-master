@using NetDeviceManager.Models
@model List<gRPC_Interface>

<div class="accordion" id="accordionInterfaces">
    @for (int i = 0; i < Model.Count; i++)
    {

        <div class="accordion-item">
            <h2 class="accordion-header" id="interfaces-heading-@i.ToString()">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#interfaces-@i.ToString()" aria-expanded=@(i == 0 ? "true" : "false") aria-controls="interfaces-@i.ToString()">
                    <div class="row" style="width: 100%">

                        <div class="col-sm-1">
                            <div style="background-color:@(Model[i].Status == "up" ? "green" : "red"); width:20px; height:20px; border-radius:10px"></div>
                        </div>
                        <div class="col-sm-4">
                            @Model[i].IfName
                        </div>
                        <div class="col-sm-3">
                            @Model[i].IfZone
                        </div>
                        @if (Model[i].Ipv4.IpAddress != "")
                        {
                            <div class="col-sm-2">
                                @Model[i].Ipv4.IpAddress/@(new IpNetmask(Model[i].Ipv4.Netmask).IntMask)
                            </div>
                        }
                    </div>
                </button>
            </h2>
        </div>
        <div id="interfaces-@i.ToString()" class="accordion-collapse collapse in" aria-labelledby="interfaces-heading-@i.ToString()">
            <div class="accordion-body">
                <div style="display: flex;flex-direction: row-reverse;flex-wrap: wrap;">
                    <div>
                        <button class="btn btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Редактировать" onclick="ShowEditInterface('@Model[i].IfName', '@Model[i].IfZone', '@Model[i].Ipv4.IpAddress', '@Model[i].Ipv4.Netmask', '@Model[i].InAccessGroup', '@Model[i].OutAccessGroup')">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                                <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z" />
                            </svg>
                        </button>
                    </div>
                    <div class="row row-cols-2" style="width: 100%">
                        <div class="col">
                            <strong>Speed:</strong> @Model[i].Speed
                        </div>
                        <div class="col">
                            <strong>Vlan:</strong> @Model[i].VlanId
                        </div>
                        <div class="col">
                            <strong>Access-Group IN:</strong> @Model[i].InAccessGroup
                        </div>
                        <div class="col">
                            <strong>Access-Group OUT:</strong> @Model[i].OutAccessGroup
                        </div>
                        <div class="col">
                            <strong>MAC:</strong> @Model[i].MacAddress
                        </div>
                    </div>
                </div>

            </div>
        </div>

    }


</div>